{"ast":null,"code":"import _toConsumableArray from \"/Users/weili/work/mobile-next/golang/src/github.com/aerogear/mobile-developer-console/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/Users/weili/work/mobile-next/golang/src/github.com/aerogear/mobile-developer-console/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar defaultState = {\n  isFetching: false,\n  items: [],\n  isCreating: false,\n  isDeleting: false,\n  isActioning: false,\n  isReading: false,\n  fetched: false\n};\n\nvar resourceReducer = function resourceReducer(actions) {\n  return function () {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n    var action = arguments.length > 1 ? arguments[1] : undefined;\n    var index;\n\n    switch (action.type) {\n      case actions.listRequest:\n        return _objectSpread({}, state, {\n          isFetching: true\n        });\n\n      case actions.listSuccess:\n        return _objectSpread({}, state, {\n          isFetching: false,\n          items: action.result.items,\n          fetched: true\n        });\n\n      case actions.listFailure:\n        return _objectSpread({}, state, {\n          isFetching: false\n        });\n\n      case actions.readRequest:\n        return _objectSpread({}, state, {\n          isReading: true\n        });\n\n      case actions.readSuccess:\n        index = state.items.findIndex(function (item) {\n          return item.metadata.name === action.result.metadata.name;\n        });\n\n        if (index >= 0) {\n          return _objectSpread({}, state, {\n            isReading: false,\n            items: [].concat(_toConsumableArray(state.items.slice(0, index)), [action.result], _toConsumableArray(state.items.slice(index + 1)))\n          });\n        }\n\n        return _objectSpread({}, state, {\n          isReading: false,\n          items: [].concat(_toConsumableArray(state.items), [action.result])\n        });\n\n      case actions.readFailure:\n        return _objectSpread({}, state, {\n          isReading: false\n        });\n\n      case actions.createRequest:\n        return _objectSpread({}, state, {\n          isCreating: true\n        });\n\n      case actions.createSuccess:\n        index = state.items.findIndex(function (item) {\n          return item.metadata.name === action.result.metadata.name;\n        });\n        return _objectSpread({}, state, {\n          isCreating: false,\n          items: index >= 0 ? state.items : [].concat(_toConsumableArray(state.items), [action.result])\n        });\n\n      case actions.createFailure:\n        return _objectSpread({}, state, {\n          isCreating: false\n        });\n\n      case actions.updateRequest:\n        return _objectSpread({}, state, {\n          isUpdating: true,\n          updateError: false\n        });\n\n      case actions.updateSuccess:\n        index = state.items.findIndex(function (item) {\n          return item.metadata.name === action.result.metadata.name;\n        });\n        return _objectSpread({}, state, {\n          isUpdating: false,\n          updateError: false,\n          items: [].concat(_toConsumableArray(state.items.slice(0, index)), [action.result], _toConsumableArray(state.items.slice(index + 1)))\n        });\n\n      case actions.updateFailure:\n        return _objectSpread({}, state, {\n          isUpdating: false,\n          updateError: action.error\n        });\n\n      case actions.deleteRequest:\n        return _objectSpread({}, state, {\n          isDeleting: true\n        });\n\n      case actions.deleteSuccess:\n        index = state.items.findIndex(function (item) {\n          return item.metadata.name === action.result.metadata.name;\n        });\n        return _objectSpread({}, state, {\n          isDeleting: false,\n          items: [].concat(_toConsumableArray(state.items.slice(0, index)), _toConsumableArray(state.items.slice(index + 1)))\n        });\n\n      case actions.deleteFailure:\n        return _objectSpread({}, state, {\n          isDeleting: false\n        });\n\n      case actions.actionRequest:\n        return _objectSpread({}, state, {\n          isActioning: true\n        });\n\n      case actions.actionSuccess:\n        return _objectSpread({}, state, {\n          isActioning: false\n        });\n\n      case actions.actionFailure:\n        return _objectSpread({}, state, {\n          isActioning: false\n        });\n\n      default:\n        return state;\n    }\n  };\n};\n\nexport default resourceReducer;","map":{"version":3,"sources":["/Users/weili/work/mobile-next/golang/src/github.com/aerogear/mobile-developer-console/src/reducers/resource.js"],"names":["defaultState","isFetching","items","isCreating","isDeleting","isActioning","isReading","fetched","resourceReducer","actions","state","action","index","type","listRequest","listSuccess","result","listFailure","readRequest","readSuccess","findIndex","item","metadata","name","slice","readFailure","createRequest","createSuccess","createFailure","updateRequest","isUpdating","updateError","updateSuccess","updateFailure","error","deleteRequest","deleteSuccess","deleteFailure","actionRequest","actionSuccess","actionFailure"],"mappings":"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","sourcesContent":["const defaultState = {\n  isFetching: false,\n  items: [],\n  isCreating: false,\n  isDeleting: false,\n  isActioning: false,\n  isReading: false,\n  fetched: false\n};\n\nconst resourceReducer = actions => (state = defaultState, action) => {\n  let index;\n  switch (action.type) {\n    case actions.listRequest:\n      return {\n        ...state,\n        isFetching: true\n      };\n    case actions.listSuccess:\n      return {\n        ...state,\n        isFetching: false,\n        items: action.result.items,\n        fetched: true\n      };\n    case actions.listFailure:\n      return {\n        ...state,\n        isFetching: false\n      };\n    case actions.readRequest:\n      return {\n        ...state,\n        isReading: true\n      };\n    case actions.readSuccess:\n      index = state.items.findIndex(item => item.metadata.name === action.result.metadata.name);\n      if (index >= 0) {\n        return {\n          ...state,\n          isReading: false,\n          items: [...state.items.slice(0, index), action.result, ...state.items.slice(index + 1)]\n        };\n      }\n      return {\n        ...state,\n        isReading: false,\n        items: [...state.items, action.result]\n      };\n    case actions.readFailure:\n      return {\n        ...state,\n        isReading: false\n      };\n    case actions.createRequest:\n      return {\n        ...state,\n        isCreating: true\n      };\n    case actions.createSuccess:\n      index = state.items.findIndex(item => item.metadata.name === action.result.metadata.name);\n      return {\n        ...state,\n        isCreating: false,\n        items: index >= 0 ? state.items : [...state.items, action.result]\n      };\n    case actions.createFailure:\n      return {\n        ...state,\n        isCreating: false\n      };\n    case actions.updateRequest:\n      return {\n        ...state,\n        isUpdating: true,\n        updateError: false\n      };\n    case actions.updateSuccess:\n      index = state.items.findIndex(item => item.metadata.name === action.result.metadata.name);\n      return {\n        ...state,\n        isUpdating: false,\n        updateError: false,\n        items: [...state.items.slice(0, index), action.result, ...state.items.slice(index + 1)]\n      };\n    case actions.updateFailure:\n      return {\n        ...state,\n        isUpdating: false,\n        updateError: action.error\n      };\n    case actions.deleteRequest:\n      return {\n        ...state,\n        isDeleting: true\n      };\n    case actions.deleteSuccess:\n      index = state.items.findIndex(item => item.metadata.name === action.result.metadata.name);\n      return {\n        ...state,\n        isDeleting: false,\n        items: [...state.items.slice(0, index), ...state.items.slice(index + 1)]\n      };\n    case actions.deleteFailure:\n      return {\n        ...state,\n        isDeleting: false\n      };\n    case actions.actionRequest:\n      return {\n        ...state,\n        isActioning: true\n      };\n    case actions.actionSuccess:\n      return {\n        ...state,\n        isActioning: false\n      };\n    case actions.actionFailure:\n      return {\n        ...state,\n        isActioning: false\n      };\n    default:\n      return state;\n  }\n};\n\nexport default resourceReducer;\n"]},"metadata":{},"sourceType":"module"}