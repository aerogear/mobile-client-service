{"ast":null,"code":"import _regeneratorRuntime from \"/Users/weili/work/mobile-next/golang/src/github.com/aerogear/mobile-developer-console/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/weili/work/mobile-next/golang/src/github.com/aerogear/mobile-developer-console/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { fetchAction, fetchAndWatchOpenShiftResource } from './fetch';\nimport { getNamespace, get, create, update, remove } from '../services/openshift';\nimport { mobileAppDef } from '../models/k8s/definitions';\nvar appResource = mobileAppDef(getNamespace());\nexport var APPS_REQUEST = 'APPS_REQUEST';\nexport var APPS_SUCCESS = 'APPS_SUCCESS';\nexport var APPS_FAILURE = 'APPS_FAILURE';\nexport var APP_REQUEST = 'APP_REQUEST';\nexport var APP_SUCCESS = 'APP_SUCCESS';\nexport var APP_FAILURE = 'APP_FAILURE';\nexport var fetchApp = function fetchApp(appName) {\n  return fetchAction([APP_REQUEST, APP_SUCCESS, APP_FAILURE],\n  /*#__PURE__*/\n  _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee() {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            return _context.abrupt(\"return\", get(appResource, appName));\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  })))();\n};\nexport var APP_CREATE_REQUEST = 'APP_CREATE_REQUEST';\nexport var APP_CREATE_SUCCESS = 'APP_CREATE_SUCCESS';\nexport var APP_CREATE_FAILURE = 'APP_CREATE_FAILURE';\nexport var createApp = function createApp(app) {\n  return fetchAction([APP_CREATE_REQUEST, APP_CREATE_SUCCESS, APP_CREATE_FAILURE],\n  /*#__PURE__*/\n  _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee2() {\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            return _context2.abrupt(\"return\", create(appResource, app.toJSON()));\n\n          case 1:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  })))();\n};\nexport var APP_UPDATE_REQUEST = 'APP_UPDATE_REQUEST';\nexport var APP_UPDATE_SUCCESS = 'APP_UPDATE_SUCCESS';\nexport var APP_UPDATE_FAILURE = 'APP_UPDATE_FAILURE';\nexport var updateApp = function updateApp(app) {\n  return fetchAction([APP_UPDATE_REQUEST, APP_UPDATE_SUCCESS, APP_UPDATE_FAILURE],\n  /*#__PURE__*/\n  _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee3() {\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            return _context3.abrupt(\"return\", update(appResource, app.toJSON()));\n\n          case 1:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  })))();\n};\nexport var APP_DELETE_REQUEST = 'APP_DELETE_REQUEST';\nexport var APP_DELETE_SUCCESS = 'APP_DELETE_SUCCESS';\nexport var APP_DELETE_FAILURE = 'APP_DELETE_FAILURE';\nexport var deleteApp = function deleteApp(name) {\n  return fetchAction([APP_DELETE_REQUEST, APP_DELETE_SUCCESS, APP_DELETE_FAILURE],\n  /*#__PURE__*/\n  _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee4() {\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            return _context4.abrupt(\"return\", remove(appResource, {\n              metadata: {\n                name: name\n              }\n            }));\n\n          case 1:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  })))();\n};\nexport var fetchAndWatchApps = fetchAndWatchOpenShiftResource(appResource, 'apps', {\n  REQUEST: APPS_REQUEST,\n  SUCCESS: APPS_SUCCESS,\n  FAILURE: APPS_FAILURE,\n  ADDED: APP_CREATE_SUCCESS,\n  MODIFIED: APP_UPDATE_SUCCESS,\n  DELETED: APP_DELETE_SUCCESS\n}); // CREATE CLIENT APP DIALOG ACTIONS\n\nexport var APP_FORM_RESET = 'FORM_RESET';\nexport var APP_FIELD_SETVALUE = 'FIELD_SETVALUE';\nexport var APP_EDIT = 'APP_EDIT';\n/**\n * Sets the value of a field into the state\n * @param {string} fieldId id of the field\n * @param {string} value the value of the field\n * @param {boolean} isValid if the field is valid or not\n */\n\nexport var setFieldValue = function setFieldValue(fieldId, value, isValid) {\n  return {\n    type: APP_FIELD_SETVALUE,\n    payload: {\n      name: fieldId,\n      value: value,\n      valid: isValid\n    }\n  };\n};\nexport var editApp = function editApp(mobileApp) {\n  return {\n    type: APP_EDIT,\n    payload: mobileApp ? mobileApp.toJSON() : null\n  };\n};\n/**\n * Resets the form to its initial state.\n */\n\nexport var resetForm = function resetForm() {\n  return {\n    type: APP_FORM_RESET\n  };\n};","map":{"version":3,"sources":["/Users/weili/work/mobile-next/golang/src/github.com/aerogear/mobile-developer-console/src/actions/apps.js"],"names":["fetchAction","fetchAndWatchOpenShiftResource","getNamespace","get","create","update","remove","mobileAppDef","appResource","APPS_REQUEST","APPS_SUCCESS","APPS_FAILURE","APP_REQUEST","APP_SUCCESS","APP_FAILURE","fetchApp","appName","APP_CREATE_REQUEST","APP_CREATE_SUCCESS","APP_CREATE_FAILURE","createApp","app","toJSON","APP_UPDATE_REQUEST","APP_UPDATE_SUCCESS","APP_UPDATE_FAILURE","updateApp","APP_DELETE_REQUEST","APP_DELETE_SUCCESS","APP_DELETE_FAILURE","deleteApp","name","metadata","fetchAndWatchApps","REQUEST","SUCCESS","FAILURE","ADDED","MODIFIED","DELETED","APP_FORM_RESET","APP_FIELD_SETVALUE","APP_EDIT","setFieldValue","fieldId","value","isValid","type","payload","valid","editApp","mobileApp","resetForm"],"mappings":"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","sourcesContent":["import { fetchAction, fetchAndWatchOpenShiftResource } from './fetch';\nimport { getNamespace, get, create, update, remove } from '../services/openshift';\nimport { mobileAppDef } from '../models/k8s/definitions';\n\nconst appResource = mobileAppDef(getNamespace());\n\nexport const APPS_REQUEST = 'APPS_REQUEST';\nexport const APPS_SUCCESS = 'APPS_SUCCESS';\nexport const APPS_FAILURE = 'APPS_FAILURE';\n\nexport const APP_REQUEST = 'APP_REQUEST';\nexport const APP_SUCCESS = 'APP_SUCCESS';\nexport const APP_FAILURE = 'APP_FAILURE';\n\nexport const fetchApp = appName =>\n  fetchAction([APP_REQUEST, APP_SUCCESS, APP_FAILURE], async () => get(appResource, appName))();\n\nexport const APP_CREATE_REQUEST = 'APP_CREATE_REQUEST';\nexport const APP_CREATE_SUCCESS = 'APP_CREATE_SUCCESS';\nexport const APP_CREATE_FAILURE = 'APP_CREATE_FAILURE';\n\nexport const createApp = app =>\n  fetchAction([APP_CREATE_REQUEST, APP_CREATE_SUCCESS, APP_CREATE_FAILURE], async () =>\n    create(appResource, app.toJSON())\n  )();\n\nexport const APP_UPDATE_REQUEST = 'APP_UPDATE_REQUEST';\nexport const APP_UPDATE_SUCCESS = 'APP_UPDATE_SUCCESS';\nexport const APP_UPDATE_FAILURE = 'APP_UPDATE_FAILURE';\n\nexport const updateApp = app =>\n  fetchAction([APP_UPDATE_REQUEST, APP_UPDATE_SUCCESS, APP_UPDATE_FAILURE], async () =>\n    update(appResource, app.toJSON())\n  )();\n\nexport const APP_DELETE_REQUEST = 'APP_DELETE_REQUEST';\nexport const APP_DELETE_SUCCESS = 'APP_DELETE_SUCCESS';\nexport const APP_DELETE_FAILURE = 'APP_DELETE_FAILURE';\n\nexport const deleteApp = name =>\n  fetchAction([APP_DELETE_REQUEST, APP_DELETE_SUCCESS, APP_DELETE_FAILURE], async () =>\n    remove(appResource, { metadata: { name } })\n  )();\n\nexport const fetchAndWatchApps = fetchAndWatchOpenShiftResource(appResource, 'apps', {\n  REQUEST: APPS_REQUEST,\n  SUCCESS: APPS_SUCCESS,\n  FAILURE: APPS_FAILURE,\n  ADDED: APP_CREATE_SUCCESS,\n  MODIFIED: APP_UPDATE_SUCCESS,\n  DELETED: APP_DELETE_SUCCESS\n});\n\n// CREATE CLIENT APP DIALOG ACTIONS\nexport const APP_FORM_RESET = 'FORM_RESET';\nexport const APP_FIELD_SETVALUE = 'FIELD_SETVALUE';\nexport const APP_EDIT = 'APP_EDIT';\n\n/**\n * Sets the value of a field into the state\n * @param {string} fieldId id of the field\n * @param {string} value the value of the field\n * @param {boolean} isValid if the field is valid or not\n */\nexport const setFieldValue = (fieldId, value, isValid) => ({\n  type: APP_FIELD_SETVALUE,\n  payload: { name: fieldId, value, valid: isValid }\n});\n\nexport const editApp = mobileApp => ({\n  type: APP_EDIT,\n  payload: mobileApp ? mobileApp.toJSON() : null\n});\n\n/**\n * Resets the form to its initial state.\n */\nexport const resetForm = () => ({\n  type: APP_FORM_RESET\n});\n"]},"metadata":{},"sourceType":"module"}