{"ast":null,"code":"import _classCallCheck from \"/Users/weili/work/mobile-next/golang/src/github.com/aerogear/mobile-developer-console/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/weili/work/mobile-next/golang/src/github.com/aerogear/mobile-developer-console/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/weili/work/mobile-next/golang/src/github.com/aerogear/mobile-developer-console/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/weili/work/mobile-next/golang/src/github.com/aerogear/mobile-developer-console/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/weili/work/mobile-next/golang/src/github.com/aerogear/mobile-developer-console/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/weili/work/mobile-next/golang/src/github.com/aerogear/mobile-developer-console/src/components/build/BuildPipelineStage.js\";\nimport React, { Component } from 'react';\nimport Duration from '../common/Duration';\nimport './BuildPipelineStage.css';\n\nvar getIcon = function getIcon(status) {\n  switch (status) {\n    case 'SUCCESS':\n      return React.createElement(\"span\", {\n        className: \"fa fa-check-circle fa-fw\",\n        \"aria-hidden\": \"true\",\n        style: {\n          color: '#3f9c35'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 9\n        },\n        __self: this\n      });\n\n    case 'FAILED':\n      return React.createElement(\"span\", {\n        className: \"fa fa-times-circle fa-fw\",\n        \"aria-hidden\": \"true\",\n        style: {\n          color: '#c00'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 11\n        },\n        __self: this\n      });\n\n    case 'IN_PROGRESS':\n      return React.createElement(\"span\", {\n        className: \"fa fa-play-circle fa-fw\",\n        \"aria-hidden\": \"true\",\n        style: {\n          color: '#0088ce'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 13\n        },\n        __self: this\n      });\n\n    default:\n      return null;\n  }\n};\n\nvar BuildPipelineStage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(BuildPipelineStage, _Component);\n\n  function BuildPipelineStage() {\n    _classCallCheck(this, BuildPipelineStage);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(BuildPipelineStage).apply(this, arguments));\n  }\n\n  _createClass(BuildPipelineStage, [{\n    key: \"render\",\n    value: function render() {\n      var stages;\n\n      try {\n        var status = JSON.parse(this.props.build.metadata.annotations['openshift.io/jenkins-status-json']);\n        stages = status.stages;\n      } catch (error) {\n        stages = [];\n      }\n\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30\n        },\n        __self: this\n      }, stages.length === 0 ? React.createElement(\"div\", {\n        className: \"pipeline-no-stage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }, \"No stages have started.\") : stages.map(function (stage, index) {\n        return React.createElement(React.Fragment, {\n          key: stage.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 35\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"pipeline-stage\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 36\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"pipeline-stage-column\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"pipeline-stage-name\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 38\n          },\n          __self: this\n        }, stage.name), React.createElement(\"div\", {\n          className: \"pipeline-status-bar \".concat(stage.status),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 40\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"pipeline-line\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"pipeline-circle\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"pipeline-circle-bg\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 43\n          },\n          __self: this\n        }), getIcon(stage.status))), React.createElement(\"div\", {\n          className: \"pipeline-time\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48\n          },\n          __self: this\n        }, React.createElement(Duration, {\n          duration: stage.durationMillis,\n          inProgress: stage.status === 'IN_PROGRESS',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49\n          },\n          __self: this\n        })))), React.createElement(\"div\", {\n          className: \"pipeline-arrow\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        }, index < stages.length - 1 && React.createElement(\"span\", {\n          className: \"fa fa-arrow-right fa-fw\",\n          \"aria-hidden\": \"true\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54\n          },\n          __self: this\n        })));\n      }));\n    }\n  }]);\n\n  return BuildPipelineStage;\n}(Component);\n\nexport default BuildPipelineStage;","map":{"version":3,"sources":["/Users/weili/work/mobile-next/golang/src/github.com/aerogear/mobile-developer-console/src/components/build/BuildPipelineStage.js"],"names":["React","Component","Duration","getIcon","status","color","BuildPipelineStage","stages","JSON","parse","props","build","metadata","annotations","error","length","map","stage","index","id","name","durationMillis"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Duration from '../common/Duration';\n\nimport './BuildPipelineStage.css';\n\nconst getIcon = status => {\n  switch (status) {\n    case 'SUCCESS':\n      return <span className=\"fa fa-check-circle fa-fw\" aria-hidden=\"true\" style={{ color: '#3f9c35' }} />;\n    case 'FAILED':\n      return <span className=\"fa fa-times-circle fa-fw\" aria-hidden=\"true\" style={{ color: '#c00' }} />;\n    case 'IN_PROGRESS':\n      return <span className=\"fa fa-play-circle fa-fw\" aria-hidden=\"true\" style={{ color: '#0088ce' }} />;\n    default:\n      return null;\n  }\n};\n\nclass BuildPipelineStage extends Component {\n  render() {\n    let stages;\n    try {\n      const status = JSON.parse(this.props.build.metadata.annotations['openshift.io/jenkins-status-json']);\n      ({ stages } = status);\n    } catch (error) {\n      stages = [];\n    }\n\n    return (\n      <React.Fragment>\n        {stages.length === 0 ? (\n          <div className=\"pipeline-no-stage\">No stages have started.</div>\n        ) : (\n          stages.map((stage, index) => (\n            <React.Fragment key={stage.id}>\n              <div className=\"pipeline-stage\">\n                <div className=\"pipeline-stage-column\">\n                  <div className=\"pipeline-stage-name\">{stage.name}</div>\n\n                  <div className={`pipeline-status-bar ${stage.status}`}>\n                    <div className=\"pipeline-line\" />\n                    <div className=\"pipeline-circle\">\n                      <div className=\"pipeline-circle-bg\" />\n                      {getIcon(stage.status)}\n                    </div>\n                  </div>\n\n                  <div className=\"pipeline-time\">\n                    <Duration duration={stage.durationMillis} inProgress={stage.status === 'IN_PROGRESS'} />\n                  </div>\n                </div>\n              </div>\n              <div className=\"pipeline-arrow\">\n                {index < stages.length - 1 && <span className=\"fa fa-arrow-right fa-fw\" aria-hidden=\"true\" />}\n              </div>\n            </React.Fragment>\n          ))\n        )}\n      </React.Fragment>\n    );\n  }\n}\n\nexport default BuildPipelineStage;\n"]},"metadata":{},"sourceType":"module"}